{
	"info": {
		"_postman_id": "de1e3678-51f6-4461-b268-deb09ec3a35b",
		"name": "BANK ACCOUNT",
		"description": "The collection comprise of requests to create account + virtual card, retrieve created accounts and to decrypt encrypted data.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "39824274"
	},
	"item": [
		{
			"name": "create account",
			"request": {
				"method": "GET",
				"header": [],
				"description": "The API endpoint [https://bank-account-virtual-card.onrender.com/api/accounts/create](https://bank-account-virtual-card.onrender.com/api/accounts/create) is a POST request to create a new account.\n\n### Request Body\n\n- firstName (string): The first name of the account holder.\n    \n- surname (string): The surname of the account holder.\n    \n- email (string): The email address of the account holder.\n    \n- phoneNumber (string): The phone number of the account holder.\n    \n- dateOfBirth (string): The date of birth of the account holder in the format YYYY-MM-DD.\n    \n\n### Response\n\nThe response returns a JSON object with the following structure:\n\n- status (string): The status of the response.\n    \n- response (object):\n    \n    - account (object): Details of the created account including firstName, surname, email, phoneNumber, dateOfBirth, accountNumber, _id, createdAt, and other properties.\n        \n    - card (object): Details of the virtual card including accountNumber, cardNumber, cvv, expiryDate, _id, createdAt, and other properties.\n        \n    - encryptedData (object): Contains encrypted data for phoneNumber, dateOfBirth, cardNumber, cvv, and expiryDate, each with encrypted, iv, and authTag properties.\n        \n\nThe response can be documented as a JSON schema based on the structure provided.\n\n``` json\n{\n  \"firstName\": \"khalifa\",\n  \"surname\": \"zin zayed\",\n  \"email\": \"khalifa@gmail.com\",\n  \"phoneNumber\": \"+2348100076533\",\n  \"dateOfBirth\": \"1952-08-18\"\n}\n\n ```\n\nThe response to this request will have a status code of 201 and a content type of application/json. The response body will contain the status and a detailed response including the created account and card information, along with encrypted data for phone number, date of birth, card number, CVV, and expiry date."
			},
			"response": []
		},
		{
			"name": "get accounts",
			"request": {
				"method": "GET",
				"header": [],
				"description": "The API endpoint retrieves all accounts with decrypted data. The response is a JSON object with the following schema:\n\n``` json\n{\n    \"status\": \"string\",\n    \"accountWithDecryptedData\": [\n        {\n            \"_id\": \"string\",\n            \"firstName\": \"string\",\n            \"surname\": \"string\",\n            \"email\": \"string\",\n            \"phoneNumber\": \"string\",\n            \"phoneIV\": \"string\",\n            \"phoneAuthTag\": \"string\",\n            \"dateOfBirthIV\": \"string\",\n            \"dateOfBirthAuthTag\": \"string\",\n            \"dateOfBirth\": \"string\",\n            \"accountNumber\": \"string\",\n            \"createdAt\": \"string\",\n            \"__v\": 0,\n            \"fullname\": \"string\",\n            \"decryptedPhoneNumber\": \"string\",\n            \"decryptedDateOfBirth\": \"string\",\n            \"card\": {\n                \"_id\": \"string\",\n                \"accountNumber\": \"string\",\n                \"cardNumber\": \"string\",\n                \"cardIV\": \"string\",\n                \"cardAuthTag\": \"string\",\n                \"cvv\": \"string\",\n                \"cvvIV\": \"string\",\n                \"cvvAuthTag\": \"string\",\n                \"expiryDate\": \"string\",\n                \"expiryDateIV\": \"string\",\n                \"expiryDateAuthTag\": \"string\",\n                \"createdAt\": \"string\",\n                \"__v\": 0,\n                \"decryptedCard\": {\n                    \"cardNumber\": \"string\",\n                    \"cvv\": \"string\",\n                    \"expiryDate\": \"string\"\n                }\n            }\n        }\n    ]\n}\n\n ```\n\n### Request Body\n\nThis request does not require a request body.\n\n### Response Body\n\nThe response will contain a JSON object with the following keys:\n\n- status (string): The status of the response.\n    \n- accountWithDecryptedData (array): An array of account objects, each containing the following keys:\n    \n    - _id (string): The unique identifier of the account.\n        \n    - firstName (string): The first name of the account holder.\n        \n    - surname (string): The surname of the account holder.\n        \n    - email (string): The email address of the account holder.\n        \n    - phoneNumber (string): The encrypted phone number of the account holder.\n        \n    - phoneIV (string): The initialization vector used for encrypting the phone number.\n        \n    - phoneAuthTag (string): The authentication tag used for encrypting the phone number.\n        \n    - dateOfBirthIV (string): The initialization vector used for encrypting the date of birth.\n        \n    - dateOfBirthAuthTag (string): The authentication tag used for encrypting the date of birth.\n        \n    - dateOfBirth (string): The encrypted date of birth of the account holder.\n        \n    - accountNumber (string): The account number.\n        \n    - createdAt (string): The date and time when the account was created.\n        \n    - __v (number): Version key.\n        \n    - fullname (string): The full name of the account holder.\n        \n    - decryptedPhoneNumber (string): The decrypted phone number of the account holder.\n        \n    - decryptedDateOfBirth (string): The decrypted date of birth of the account holder.\n        \n    - card (object): An object representing the card details, containing the following keys:\n        \n        - _id (string): The unique identifier of the card.\n            \n        - accountNumber (string): The account number associated with the card.\n            \n        - cardNumber (string): The encrypted card number.\n            \n        - cardIV (string): The initialization vector used for encrypting the card number.\n            \n        - cardAuthTag (string): The authentication tag used for encrypting the card number.\n            \n        - cvv (string): The encrypted CVV of the card.\n            \n        - cvvIV (string): The initialization vector used for encrypting the CVV.\n            \n        - cvvAuthTag (string): The authentication tag used for encrypting the CVV.\n            \n        - expiryDate (string): The encrypted expiry date of the card.\n            \n        - expiryDateIV (string): The initialization vector used for encrypting the expiry date.\n            \n        - expiryDateAuthTag (string): The authentication tag used for encrypting the expiry date.\n            \n        - createdAt (string): The date and time when the card was created.\n            \n        - __v (number): Version key.\n            \n        - decryptedCard (object): An object containing the decrypted card details, with the following keys:\n            \n            - cardNumber (string): The decrypted card number.\n                \n            - cvv (string): The decrypted CVV.\n                \n            - expiryDate (string): The decrypted expiry date."
			},
			"response": []
		},
		{
			"name": "decrypt",
			"request": {
				"method": "GET",
				"header": [],
				"description": "### Decrypt Data\n\nThis endpoint takes an encrypted data payload and decrypts it using the provided initialization vector (IV) and authentication tag.\n\n#### Request Body\n\n- `encryptedData` (string): The encrypted data to be decrypted.\n    \n- `iv` (string): The initialization vector used in the encryption process.\n    \n- `authTag` (string): The authentication tag used in the encryption process.\n    \n\n#### Response\n\nThe response will be in JSON format with the decrypted data schema.\n\n``` json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"decryptedData\": {\n      \"type\": \"string\"\n    }\n  }\n}\n\n ```\n\nThis endpoint is used to decrypt encrypted data using the specified initialization vector (IV) and authentication tag.\n\n#### Request Body\n\n- `encryptedData` (text): The encrypted data to be decrypted.\n    \n- `iv` (text): The initialization vector (IV) used for encryption.\n    \n- `authTag` (text): The authentication tag used for encryption.\n    \n\n#### Response\n\n- Status: 200\n    \n- Content-Type: application/json\n    \n\nThe response will contain the decrypted data in JSON format."
			},
			"response": []
		}
	]
}